<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>DsgamePlayer</title>
    <base href="/" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="stylesheet" href="/src/styles.css" />
  </head>
  <body>
    <div style='width:640px;height:480px;max-width:100%'>
      <div id='game'></div>
  </div>
  
  <script type='text/javascript'>
      EJS_player = '#game';
      // Can also be fceumm or nestopia
      EJS_core = 'nes';
      EJS_startOnLoaded = true
      // Lightgun
      EJS_lightgun = false; // can be true or false
      // URL to BIOS file
      EJS_gameUrl = ``; // https://dl.dropboxusercontent.com/s/[random-code]/mario.nes
      // Path to the data directory
      EJS_pathtodata = 'https://cdn.emulatorjs.org/stable/data/';
    

    window.addEventListener('message', (event) =>{
      if(event.data.gameName){
        EJS_gameUrl = event.data.gameName;
        var script = document.createElement('script');
        script.setAttribute('src', 'https://cdn.emulatorjs.org/stable/data/loader.js');
        script.setAttribute('type', 'text/javascript');
        document.getElementsByTagName('head')[0].appendChild(script);
      }
    })
  </script>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
